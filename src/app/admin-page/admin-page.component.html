<button (click)="goBack()">Back</button>

<div class="admin-page">
  <h2>Страница админа</h2>
  <div *ngIf="!isLoggedIn">
    <label for="password">Пароль:</label>
    <input type="password" id="password" [(ngModel)]="password">
    <button (click)="checkPassword()">Войти</button>
  </div>
  <form [formGroup]="productForm" (ngSubmit)="addProduct()">
    <div class="form-group">
      <label for="productName">Название товара</label>
      <input type="text" id="productName" formControlName="productName" required pattern="[a-zA-Z\s]+">
    </div>
    <div class="form-group">
      <label for="productDescription">Описание товара</label>
      <input type="text" id="productDescription" formControlName="productDescription" required pattern="[a-zA-Z\s\d]+">
    </div>
    <div class="form-group">
      <label for="productImage">URL картинки</label>
      <input type="url" id="productImage" formControlName="productImage" required (blur)="checkImage()">
      <div *ngIf="imageLoadingFailed" class="error-message">Картинка не загружена.</div>
    </div>
    <div class="form-group">
      <label for="productPrice">Цена</label>
      <input type="number" id="productPrice" formControlName="productPrice" required pattern="[0-9]+">
    </div>
    <button type="submit" [disabled]="productForm.invalid">Добавить</button>
  </form>
  <div class="product-list">
    <h3>Список товаров</h3>
    <ul>
      <li *ngFor="let product of productList; let i = index">
        <img [src]="product.image" alt="{{ product.name }}" width="50">
        {{ product.name }}
        <button (click)="deleteProduct(i)">Удалить</button>
      </li>
    </ul>
  </div>
</div>
